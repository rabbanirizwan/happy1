<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <!-- Font Awesome -->
     <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.0/animate.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
<link rel="stylesheet" href="style.css">
  <style>
  #map {
        display: none;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      #right-panel {
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }

      #right-panel select, #right-panel input {
        font-size: 15px;
      }

      #right-panel select {
        width: 100%;
      }

      #right-panel i {
        font-size: 12px;
      }
      #right-panel {
        font-family: Arial, Helvetica, sans-serif;
        position: absolute;
        right: 5px;
        top: 60%;
        margin-top: -195px;
        height: 330px;
        width: 200px;
        padding: 5px;
        z-index: 5;
        border: 1px solid #999;
        background: #fff;
      }
      h2 {
        font-size: 22px;
        margin: 0 0 5px 0;
      }
      ul {
        list-style-type: none;
        padding: 0;
        margin: 0;
        height: 271px;
        width: 200px;
        overflow-y: scroll;
      }
      li {
        background-color: #f1f1f1;
        padding: 10px;
        text-overflow: ellipsis;
        white-space: nowrap;
        overflow: hidden;
      }
      li:nth-child(odd) {
        background-color: #fcfcfc;
      }
      #more {
        width: 100%;
        margin: 5px 0 0 0;
      }
    </style>
</head>
   
 
  <body>
  
      <header>
    
        <div class="first-nav"> 
               <p><i class="far fa-star"></i></p> 
            <p style=" font-family: arial;"> HappyHour</p> 
            <p><i class="fas fa-info-circle"></i></p>
       </div>
        
    </header>

       <div class="second-nav sticky-top">
           
          <p id = "one" style=" font-family: arial;" >  <a  onclick="food1()" href="#food">Food</a> </p>
           <p id = "two" style=" font-family: arial;"> <a href="#Drinks" onclick="food2()">Drinks</a></p>
           <p id = "three" style=" font-family: arial;"> <a  href="#Activities" onclick="food3()">Activities</a></p>
           <p id = "four" style=" font-family: arial;"> <a  href="#Beauty" onclick="food4()">Beauty & Spas</a></p>
           <p id = "five" style=" font-family: arial;"> <a  href="#Shop" onclick="food5()">Shop</a></p>
           <p id = "six" style=" font-family: arial;">  <a  href="#travel" onclick="food6()">Travel</a> </p>

       </div>

           <div class="search">
       <label for="exampleInputEmail1"></label>
  <div class="input-group mb-3">
  <select class="custom-select" id="inputGroupSelect02">
  </select>
  <div class="input-group-append">
    <label class="input-group-text" for="inputGroupSelect02">Options</label>
  </div>
</div>


 <label for="exampleInputEmail1"></label>
  <div class="input-group mb-3">
  <select class="custom-select" id="inputGroupSelect01">
  </select>
  <div class="input-group-append">
    <label class="input-group-text" for="inputGroupSelect01">Options</label>
  </div>
</div>


<div class="container">
  
  <!-- Trigger the modal with a button -->
  <button type="button" class="btn btn-warning btn-lg"  style="width:100%;" data-toggle="modal" data-target="#myModal"> Open Surprise</button>

  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
 
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
         
          <h4 class="modal-title">   <div class="alert alert-danger" role="alert" style="color: black;
    font-style: oblique;
    background-color: orange;">
  show Details containing
</div></h4>
        </div>
        <div class="modal-body">
          <div class="form-group row" style="border-bottom:2px solid #f38400;">
 
    <div class="col-sm-12">
      <div class="form-check">
            <p class="myclass">restaurant</p>
       <p> <input class="form-check-input" type="checkbox" id="gridCheck1" style="height: 21px;
    width: 20px;"></p>
       
      </div>
    </div>
  </div>
  <div class="form-group row" style="border-bottom:2px solid #f38400;">
   
    <div class="col-sm-12">
      <div class="form-check">
   <p class="myclass"> Drinks</p>
     <p>   <input class="form-check-input" type="checkbox" id="gridCheck2" style="height: 21px;
    width: 20px;"></p>
        
      </div>
    </div>
  </div>
<div class="form-group row" style="border-bottom:2px solid #f38400;">
   
    <div class="col-sm-12">
      <div class="form-check">
   <p class="myclass"> <label>Activity</label></p>
     <p>   <input class="form-check-input" type="checkbox" id="gridCheck3" style="height: 21px;
    width: 20px;"></p>
        
      </div>
    </div>
  </div>
  
  <div class="form-group row" style="border-bottom:2px solid #f38400;">
   
    <div class="col-sm-12">
      <div class="form-check">
   <p class="myclass"> <label>shop</label></p>
     <p>   <input class="form-check-input" type="checkbox" id="gridCheck4" style="height: 21px;
    width: 20px;"></p>
        
      </div>
    </div>
  </div>
  
  <div class="form-group row" style="border-bottom:2px solid #f38400;">
   
    <div class="col-sm-12">
      <div class="form-check">
   <p class="myclass"> <label>travel</label></p>
     <p>   <input class="form-check-input" type="checkbox" id="gridCheck5" style="height: 21px;
    width: 20px;"></p>
        
      </div>
    </div>
  </div>
  
<div class="form-group row" style="border-bottom:2px solid #f38400;">
   
    <div class="col-sm-12">
      <div class="form-check">
   <p class="myclass">  <label>Beauty & Spa</label></p>
     <p>   <input class="form-check-input" type="checkbox" id="gridCheck6" style="height: 21px;
    width: 20px;"></p>
        
      </div>
    </div>
  </div>

        </div>
        <div class="modal-footer" style="
    justify-content: center;
    background-color: orange;
    justify-content:center;
">
          <button type="button" onclick="ShowAll()" class="btn btn-warning btn-lg" data-dismiss="modal" style="background-color: whitesmoke;
    font-style: oblique;
    font-weight: 700;">Submit</button>
          <button type="button" class="btn btn-warning btn-lg" data-dismiss="modal" style="background-color: whitesmoke;
    font-style: oblique;
    font-weight: 700;">cancel</button>
        </div>
      </div>
      
    </div>
  </div>
  
</div>
    </div>

       <div id="pac-container">

<div class="form-group">
    
    <input type="text" class="form-control" id="pac-input" aria-describedby="emailHelp" placeholder="Enter a location">
    
  </div>
<p style="
    text-align: center;
    padding-top: 13px;
">

    <i style="    font-size: 70px;
    color: whitesmoke;" class="fas fa-angle-double-up animated infinite fadeInUp delay-2s"></i>
</p>
        
      </div>
       <div class="searchByName">
      <div class="form-group">
   
    
<input type="text" id="myInput" class ="form-control" onkeyup="myFunction()" placeholder="Search for names.." title="Type in a name" value="">
  </div>
    </div>
      
    <section id="places"> 
   
    </section>


    <div id="map"></div>
    <footer class="sticky-bottom">
    
    <div>
          <a class="newone" onclick="near()">  <p><i class="fas fa-plus"></i></p>
            <p class="newone" style=" font-family: arial;">Near me</p></a>
    
    </div>
    <div>
           <a class="new2" onclick="mapShow()" ><p><i class="fas fa-map-marker"></i></p>
            <p  class="new2" style=" font-family: arial;">Map</p></a>
           
    </div>
    <div>
           <a  class="new3"  onclick="joe()" ><p><i class="fas fa-map-pin"></i></p>
            <p  class="new3" style=" font-family: arial;">Search</p></a>
           
           
    </div>   
    <div>
          <a  class="new4" onclick="locations()">  <p><i class="fas fa-location-arrow"></i></p>
            <p class="new4" style=" font-family: arial;"> locations</p></a>
        
    </div>
    <div>
          <a class="new5" onclick="fav()"> <p><i class="far fa-heart"></i></p>
              <p  class="new5" style=" font-family: arial;">favourite</p></a>
    </div>   
        
</footer>
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
<script src="script.js"></script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAy1iAAVvW9l0HXJ3MXipB2x6YvofjTU6o&libraries=places&callback=initMap" async defer></script>
  </body>
</html>

 <script>
//       var map;
// var service;
// var infowindow;
// var latitude,longitude;

// function initMap() {
//      //navigator.geolocation.getCurrentPosition(success);
//   //function success(position)
//  //{
//     latitude = 24.9056305;

//  longitude = 67.0823192;
// var pyrmont = new google.maps.LatLng(latitude,longitude);

// //console.log(localStorage.getItem("longitude"));
// //console.log(longitude);
//   map = new google.maps.Map(document.getElementById('map'), {
//       center: pyrmont,
//       zoom: 15
//     });

//   var request = {
//     location: pyrmont,
//     radius: '500',
//     type: ['restaurant']
//   };

//   service = new google.maps.places.PlacesService(map);
//   service.nearbySearch(request, callback);

//  //}
 
  
// }

// function callback(results, status) {
//   if (status == google.maps.places.PlacesServiceStatus.OK) {
//     for (var i = 0; i < results.length; i++) {
//       var place = results[i];
      
//       createMarker(results[i]);
//      // createPhoto(place);
//     }
//   }
// }

    var map;
var service;
var infowindow;
var latitude,longitude;
 // var getNextPage = null;
function initMap() {
     //navigator.geolocation.getCurrentPosition(success);
  //function success(position)
 //{
  var input = document.getElementById('pac-input');
  var autocomplete = new google.maps.places.Autocomplete(input);
  var place = autocomplete.getPlace();
    latitude;

 longitude;
 console.log(longitude);

var pyrmont = new google.maps.LatLng(latitude,longitude);





//console.log(localStorage.getItem("longitude"));
//console.log(longitude);
  map = new google.maps.Map(document.getElementById('map'), {
      center: pyrmont,
      zoom: 15
    });


        
       
      
      
        autocomplete.addListener('place_changed', function() {
          //infowindow.close();
          var place = autocomplete.getPlace();
          if (!place.geometry) {
            // User entered the name of a Place that was not suggested and
            // pressed the Enter key, or the Place Details request failed.
            window.alert("No details available for input: '" + place.name + "'");
            return;
          }
            console.log(place.geometry.location.lng());
            longitude=place.geometry.location.lng();
            latitude=place.geometry.location.lat();
            if(document.querySelector("#myInput").value !== " ")
{
  console.log("happy");
}
        });


  // var request = {
  //   location: pyrmont,
  //   radius: '500',
  //   type: ['restaurant']
  // };

   
  service = new google.maps.places.PlacesService(map);
  //service.nearbySearch(request, callback);

 //}
 
  
}

function callback(results, status,pagination) {
  if (status == google.maps.places.PlacesServiceStatus.OK) {
    for (var i = 0; i < results.length; i++) {
      var place = results[i];
      
      createMarker(results[i]);
         //getNextPage = pagination.hasNextPage && function() {
               // pagination.nextPage();
             // };
     // createPhoto(place);
    }
  }
}
function createMarker(place) {
  if(place == 0)
  {
    console.log('yes');
  }
  var photos = place.photos;
  var i=0;
        var marker = new google.maps.Marker({
          map: map,
          position: place.geometry.location
        });

        google.maps.event.addListener(marker, 'click', function() {
          infowindow.setContent(place.name);
          infowindow.open(map, this);
        });
        //console.log(place.name);
        //console.log(place);
  if (!photos) {
     return;
  }
console.log("first"+tab);
if(tab == 1)
{
   document.querySelector(".search").style.display="none";
  document.querySelector(".searchByName").style.display="none";
   document.querySelector("#pac-container").style.display = "none";
   console.log(tab);
   document.getElementById("places").innerHTML+=  `<div class="first-place">
        <div style = "background-image:url(${photos[i].getUrl()});" id="first-place-img"></div>
        <div class="inner-style">
            <p class="foodway" style="max-width:150px;"> ${place.name} <br><small>${place.rating}</small></p>
            <div class="inner-style1">
                  <p style="min-width:40px;max-width:100px;"><i class="fas fa-map-marker-alt"></i>
                      ${place.vicinity}</p>
                  
            </div>
          
            </div>
          </div>
        
        `;
 
}
if(tab == 2)
{
  document.querySelector(".searchByName").style.display="none";
  document.querySelector("#pac-container").style.display = "none";
   console.log(tab);
   document.getElementById("places").innerHTML+=  `<div class="alert alert-warning" role="alert">
  ${place.name}
</div><div class="first-place">
        <div style = "background-image:url(${photos[i].getUrl()});" id="first-place-img"></div>
        <div class="inner-style">
            <p class="foodway" style="max-width:150px;"><small>${place.rating}</small></p>
            <div class="inner-style1">
                  <p style="min-width:40px;max-width:80px;><i class="fas fa-map-marker-alt"></i>
                      ${place.vicinity}</p>
                   </div>
          
            </div>
          </div>
        
        `;
 
}

if(tab == 3){
 document.querySelector(".search").style.display="none";
document.querySelector(".searchByName").style.display="none";
  document.querySelector("#pac-container").style.display = "none";
  console.log(tab);
  document.getElementById("map").style.height = "100%";
   document.getElementById("map").style.display = "block";
  // document.querySelector(".first-nav").style.display="none";
  //    document.querySelector(".second-nav").style.display="none";
     document.querySelector("#pac-container").style.display="none";
    //  document.querySelector(".sticky-bottom").style.display="none";
      document.querySelector("header").style.display="none";
 var myLatLng = {lat: place.geometry.location.lat(), lng:place.geometry.location.lng()};

        // var map = new google.maps.Map(document.getElementById('map'), {
        //   zoom: 20,
        //   center: myLatLng
        // });
   var marker = new google.maps.Marker({
          map: map,
          position: place.geometry.location
        });

        // var marker = new google.maps.Marker({
        //   position: myLatLng,
        //   map: map,
        //   title: 'Hello World!'
        // });
         google.maps.event.addListener(marker, 'click', function() {
          infowindow.setContent(place.name);
          infowindow.open(map, this);
        });
  
}

if (tab == 4)
{
  document.querySelector(".searchByName").style.display="none";
  document.querySelector("#pac-container").style.display = "none";
  console.log(tab);
   document.querySelector("#pac-container").style.padding = "0px";
    document.querySelector("#pac-container").style.backgroundColor = "white-space";
 document.getElementById("map").style.display = "none";
   document.querySelector("#pac-input").style.display = "none";

  document.querySelector(".search").style.display="block";
 var b= document.querySelector("#inputGroupSelect02").value=`${place.name}`;

document.querySelector("#inputGroupSelect02").innerHTML+=`<option value=${place.name}>${place.name}</option>`;
 

 


}
if(tab == 9)
{
  document.querySelector(".searchByName").style.display="none";
  document.querySelector("#pac-container").style.display = "none";
  console.log(tab);
  console.log(place.name);
   latitude=place.geometry.location.lat();
  longitude=place.geometry.location.lng();
  console.log(latitude+" "+longitude);
  document.querySelector(".search").style.display = "none";
 document.querySelector("#places").innerHTML+=`<div class="first-place">
        <div style = "background-image:url(${photos[i].getUrl()});" id="first-place-img"></div>
        <div class="inner-style">
            <p class="foodway"> ${place.name} <br><small>${place.rating}</small></p>
            <div class="inner-style1">
                  <p style="min-width:40px;max-width:80px;"><i class="fas fa-map-marker-alt"></i>
                      ${place.vicinity}</p>
                  
            </div>
          
            </div>
          </div>`;
}


if (tab ==7)
{
  document.querySelector("#pac-container").style.display = "none";
  document.querySelector(".search").style.display="none";
  document.querySelector("#pac-input").style.display = "none";
  document.querySelector(".searchByName").style.display="block";
  document.querySelector("#places").innerHTML+=`
  <p style="border-bottom: 1px solid gray;"><a value=${place.name}>${place.name}</a></p>
  
        `;
        // document.querySelector("#myInput").value=`${place.name}`;

}

      }
   

    



    </script>